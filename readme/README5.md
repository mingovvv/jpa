# 값 타입

-----

## 값 타입

JPA 데이터 타입
 - 엔티티 타입
   - `@Entity` 객체
   - 데이터가 변해도 식별자(`@Id`)를 통해 추적 가능
 - 값 타입
   - int, String 같은 단순 값으로 사용하는 자바 기본 타입이나 객체
   - 식별자가 없어서 변경 시, 추적 불가
   - `기본 값 타입` / `임베디드 타입` / `컬렉션 값 타입` 으로 구분됨

-----

#### 기본 값 타입

 - 생명주기는 엔티티 객체에 의존 (회원 엔티티를 삭제하면 이름, 나이 필드도 삭제됨)
 - 값 타입은 공유X (회원 이름 변경 시, 다른 회원 이름도 변경되면 안됨)

#### 임베디드 타입(내장 타입)

[Entity](../src/main/java/com/example/jpa/shop/domain/level1/Member.java)

  - `@Embeddable` / `@Embedded`
  - 새로운 값 타입을 직접 정의
  - 주로 기본 값 타입을 모아서 복합 값 타입이라고도 불리움
  - 임베디드 타입 또한 값 타입의 모음이기 때문에 엔티티 객체의 생명주기를 의존함
  - 임베디드 타입의 참조값을 여러 엔티티에서 공유되지 않도록 주의해서 사용(참조값의 데이터가 바뀌면 사용하는 모든 엔티티의 값이 수정됨)
  - 불변객체(Immutable Object)로 설계해야 함 // setter 사용 안하기
  - 동등성 비교 (a.equal(b))를 위한 equals, hashcode 재정의

#### 값 타입 컬렉션

- @ElmentCollection
- @CollectionTable

